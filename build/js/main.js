"use strict";

document.addEventListener("DOMContentLoaded", function () {
  var wheelBtn = document.querySelector(".land__wheel-btn"),
    wheelSectors = document.querySelector(".land__wheel-sectors"),
    firstPopup = document.querySelector(".firstWin"),
    secondPopup = document.querySelector(".secondWin"),
    popupOverlay = document.querySelector(".popup-overlay"),
    closeFirstBtn = document.querySelector('.firstWin__btn'),
    closeSecondBtn = document.querySelector('.secondWin__btn'),
    firstBuble = document.querySelector(".firstWin__buble"),
    secondBuble = document.querySelector(".secondWin__buble"),
    coins = document.querySelectorAll(".coin"),
    testPopup1 = document.querySelector(".popup1"),
    testPopup2 = document.querySelector(".popup2");
  var spinCounter = 0;
  var popupState1 = false;
  var popupState2 = false;
  testPopup1.addEventListener("click", function () {
    if (popupState2) {
      hidePopup(secondPopup, popupOverlay, "_opacity");
      popupState2 = false;
    }
    if (!popupState1) {
      showPopup(firstPopup, popupOverlay, "_opacity", firstBuble);
      popupState1 = true;
    } else {
      hidePopup(firstPopup, popupOverlay, "_opacity");
      popupState1 = false;
    }
  });
  testPopup2.addEventListener("click", function () {
    if (popupState1) {
      hidePopup(firstPopup, popupOverlay, "_opacity");
      popupState1 = false;
    }
    if (!popupState2) {
      showPopup(secondPopup, popupOverlay, "_opacity", secondBuble);
      popupState2 = true;
      coins.forEach(function (coin, i) {
        setTimeout(function () {
          coin.classList.add("coinAnim");
        }, i * 400);
      });
    } else {
      hidePopup(secondPopup, popupOverlay, "_opacity");
      popupState2 = false;
    }
  });
  function showPopup(popup, overlay, hideClass, buble) {
    overlay.classList.remove(hideClass);
    popup.classList.remove(hideClass);
    if (buble) {
      buble.classList.add("showBuble");
    }
  }
  function hidePopup(popup, overlay, hideClass) {
    overlay.classList.add(hideClass);
    popup.classList.add(hideClass);
  }
  closeFirstBtn.addEventListener("click", function () {
    hidePopup(firstPopup, popupOverlay, "_opacity");
  });
  closeSecondBtn.addEventListener("click", function () {
    hidePopup(secondPopup, popupOverlay, "_opacity");
  });
  function Spin(sectors, animClass, position) {
    sectors.classList.add(animClass);
    sectors.addEventListener("animationend", function () {
      sectors.style.transform = "rotate(".concat(position, "deg)");
      sectors.classList.remove(animClass);
      if (spinCounter === 0) {
        showPopup(firstPopup, popupOverlay, "_opacity", firstBuble);
      } else {
        showPopup(secondPopup, popupOverlay, "_opacity", secondBuble);
        coins.forEach(function (coin, i) {
          setTimeout(function () {
            coin.classList.add("coinAnim");
          }, i * 400);
        });
      }
      spinCounter++;
    }, {
      once: true
    });
  }
  wheelBtn.addEventListener("click", function () {
    if (spinCounter === 0) {
      Spin(wheelSectors, "firstSpin", 2701);
    } else {
      Spin(wheelSectors, "secondSpin", 4187);
    }
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwid2hlZWxCdG4iLCJxdWVyeVNlbGVjdG9yIiwid2hlZWxTZWN0b3JzIiwiZmlyc3RQb3B1cCIsInNlY29uZFBvcHVwIiwicG9wdXBPdmVybGF5IiwiY2xvc2VGaXJzdEJ0biIsImNsb3NlU2Vjb25kQnRuIiwiZmlyc3RCdWJsZSIsInNlY29uZEJ1YmxlIiwiY29pbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwidGVzdFBvcHVwMSIsInRlc3RQb3B1cDIiLCJzcGluQ291bnRlciIsInBvcHVwU3RhdGUxIiwicG9wdXBTdGF0ZTIiLCJoaWRlUG9wdXAiLCJzaG93UG9wdXAiLCJmb3JFYWNoIiwiY29pbiIsImkiLCJzZXRUaW1lb3V0IiwiY2xhc3NMaXN0IiwiYWRkIiwicG9wdXAiLCJvdmVybGF5IiwiaGlkZUNsYXNzIiwiYnVibGUiLCJyZW1vdmUiLCJTcGluIiwic2VjdG9ycyIsImFuaW1DbGFzcyIsInBvc2l0aW9uIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJvbmNlIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxRQUFRLENBQUNDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLFlBQUs7RUFDL0MsSUFBTUMsUUFBUSxHQUFHRixRQUFRLENBQUNHLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQztJQUNyREMsWUFBWSxHQUFHSixRQUFRLENBQUNHLGFBQWEsQ0FBQyxzQkFBc0IsQ0FBQztJQUM3REUsVUFBVSxHQUFHTCxRQUFRLENBQUNHLGFBQWEsQ0FBQyxXQUFXLENBQUM7SUFDaERHLFdBQVcsR0FBR04sUUFBUSxDQUFDRyxhQUFhLENBQUMsWUFBWSxDQUFDO0lBQ2xESSxZQUFZLEdBQUdQLFFBQVEsQ0FBQ0csYUFBYSxDQUFDLGdCQUFnQixDQUFDO0lBQ3ZESyxhQUFhLEdBQUdSLFFBQVEsQ0FBQ0csYUFBYSxDQUFDLGdCQUFnQixDQUFDO0lBQ3hETSxjQUFjLEdBQUdULFFBQVEsQ0FBQ0cs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Q0FBQzVCLFlBQVksRUFBRSxZQUFZLEVBQUUsSUFBSSxDQUFDO0lBQzFDO0VBQ0osQ0FBQyxDQUFDO0FBQ1YsQ0FBQyxDQUFDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PntcbiAgICBjb25zdCB3aGVlbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGFuZF9fd2hlZWwtYnRuXCIpLFxuICAgICAgICAgIHdoZWVsU2VjdG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGFuZF9fd2hlZWwtc2VjdG9yc1wiKSxcbiAgICAgICAgICBmaXJzdFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5maXJzdFdpblwiKSxcbiAgICAgICAgICBzZWNvbmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2Vjb25kV2luXCIpLFxuICAgICAgICAgIHBvcHVwT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtb3ZlcmxheVwiKSxcbiAgICAgICAgICBjbG9zZUZpcnN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpcnN0V2luX19idG4nKSxcbiAgICAgICAgICBjbG9zZVNlY29uZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWNvbmRXaW5fX2J0bicpLFxuICAgICAgICAgIGZpcnN0QnVibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZpcnN0V2luX19idWJsZVwiKSxcbiAgICAgICAgICBzZWNvbmRCdWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2Vjb25kV2luX19idWJsZVwiKSxcbiAgICAgICAgICBjb2lucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29pblwiKSxcbiAgICAgICAgICB0ZXN0UG9wdXAxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cDFcIiksXG4gICAgICAgICAgdGVzdFBvcHVwMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAyXCIpXG5cbiAgICBsZXQgc3BpbkNvdW50ZXIgPSAwXG4gICAgbGV0IHBvcHVwU3RhdGUxID0gZmFsc2VcbiAgICBsZXQgcG9wdXBTdGF0ZTIgPSBmYWxzZVxuXG4gICAgdGVzdFBvcHVwMS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBpZiAocG9wdXBTdGF0ZTIpIHtcbiAgICAgICAgICAgIGhpZGVQb3B1cChzZWNvbmRQb3B1cCwgcG9wdXBPdmVybGF5LCBcIl9vcGFjaXR5XCIpO1xuICAgICAgICAgICAgcG9wdXBTdGF0ZTIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBvcHVwU3RhdGUxKSB7XG4gICAgICAgICAgICBzaG93UG9wdXAoZmlyc3RQb3B1cCwgcG9wdXBPdmVybGF5LCBcIl9vcGFjaXR5XCIsIGZpcnN0QnVibGUpO1xuICAgICAgICAgICAgcG9wdXBTdGF0ZTEgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGlkZVBvcHVwKGZpcnN0UG9wdXAsIHBvcHVwT3ZlcmxheSwgXCJfb3BhY2l0eVwiKTtcbiAgICAgICAgICAgIHBvcHVwU3RhdGUxID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3RQb3B1cDIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgaWYgKHBvcHVwU3RhdGUxKSB7XG4gICAgICAgICAgICBoaWRlUG9wdXAoZmlyc3RQb3B1cCwgcG9wdXBPdmVybGF5LCBcIl9vcGFjaXR5XCIpO1xuICAgICAgICAgICAgcG9wdXBTdGF0ZTEgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBvcHVwU3RhdGUyKSB7XG4gICAgICAgICAgICBzaG93UG9wdXAoc2Vjb25kUG9wdXAsIHBvcHVwT3ZlcmxheSwgXCJfb3BhY2l0eVwiLCBzZWNvbmRCdWJsZSk7XG4gICAgICAgICAgICBwb3B1cFN0YXRlMiA9IHRydWU7XG4gICAgICAgICAgICBjb2lucy5mb3JFYWNoKChjb2luLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvaW4uY2xhc3NMaXN0LmFkZChcImNvaW5BbmltXCIpXG4gICAgICAgICAgICAgICAgfSwgaSAqIDQwMClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaWRlUG9wdXAoc2Vjb25kUG9wdXAsIHBvcHVwT3ZlcmxheSwgXCJfb3BhY2l0eVwiKTtcbiAgICAgICAgICAgIHBvcHVwU3RhdGUyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG5cbiAgICAgICAgZnVuY3Rpb24gc2hvd1BvcHVwKHBvcHVwLCBvdmVybGF5LCBoaWRlQ2xhc3MsIGJ1YmxlKSB7XG4gICAgICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoaGlkZUNsYXNzKVxuICAgICAgICAgICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShoaWRlQ2xhc3MpXG4gICAgICAgICAgICBpZiAoYnVibGUpIHtcbiAgICAgICAgICAgICAgICBidWJsZS5jbGFzc0xpc3QuYWRkKFwic2hvd0J1YmxlXCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGhpZGVQb3B1cChwb3B1cCwgb3ZlcmxheSwgaGlkZUNsYXNzKSB7XG4gICAgICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoaGlkZUNsYXNzKVxuICAgICAgICAgICAgcG9wdXAuY2xhc3NMaXN0LmFkZChoaWRlQ2xhc3MpXG4gICAgICAgIH1cblxuXG4gICAgICAgIGNsb3NlRmlyc3RCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIGhpZGVQb3B1cChmaXJzdFBvcHVwLCBwb3B1cE92ZXJsYXksIFwiX29wYWNpdHlcIilcbiAgICAgICAgfSlcbiAgICAgICAgY2xvc2VTZWNvbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIGhpZGVQb3B1cChzZWNvbmRQb3B1cCwgcG9wdXBPdmVybGF5LCBcIl9vcGFjaXR5XCIpXG4gICAgICAgIH0pXG5cbiAgICAgICAgZnVuY3Rpb24gU3BpbihzZWN0b3JzLCBhbmltQ2xhc3MsIHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBzZWN0b3JzLmNsYXNzTGlzdC5hZGQoYW5pbUNsYXNzKVxuICAgICAgICAgICAgc2VjdG9ycy5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZWN0b3JzLnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGUoJHtwb3NpdGlvbn1kZWcpYFxuICAgICAgICAgICAgICAgIHNlY3RvcnMuY2xhc3NMaXN0LnJlbW92ZShhbmltQ2xhc3MpXG4gICAgICAgICAgICAgICAgaWYgKHNwaW5Db3VudGVyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dQb3B1cChmaXJzdFBvcHVwLCBwb3B1cE92ZXJsYXksIFwiX29wYWNpdHlcIiwgZmlyc3RCdWJsZSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaG93UG9wdXAoc2Vjb25kUG9wdXAsIHBvcHVwT3ZlcmxheSwgXCJfb3BhY2l0eVwiLCBzZWNvbmRCdWJsZSlcbiAgICAgICAgICAgICAgICAgICAgY29pbnMuZm9yRWFjaCgoY29pbiwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29pbi5jbGFzc0xpc3QuYWRkKFwiY29pbkFuaW1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGkgKiA0MDApXG4gICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3BpbkNvdW50ZXIrK1xuICAgICAgICAgICAgfSwge29uY2U6IHRydWV9KVxuICAgICAgICB9XG5cbiAgICAgICAgd2hlZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChzcGluQ291bnRlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgIFNwaW4od2hlZWxTZWN0b3JzLCBcImZpcnN0U3BpblwiLCAyNzAxKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBTcGluKHdoZWVsU2VjdG9ycywgXCJzZWNvbmRTcGluXCIsIDQxODcpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG59KSJdfQ==
